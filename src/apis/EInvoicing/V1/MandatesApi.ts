/* tslint:disable */
/* eslint-disable */
/**
 * Avalara E-Invoicing API
 * An API that supports sending data for an E-Invoicing compliance use-case.
 *
 * The version of the OpenAPI document: 1.2
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../../../runtime';
import { RequestInit } from 'node-fetch';
import LogObject from '../../../utils/logObject';

import {
    BadRequest,
    BadRequestFromJSON,
    BadRequestToJSON,
    ForbiddenError,
    ForbiddenErrorFromJSON,
    ForbiddenErrorToJSON,
    InternalServerError,
    InternalServerErrorFromJSON,
    InternalServerErrorToJSON,
    MandateDataInputField,
    MandateDataInputFieldFromJSON,
    MandateDataInputFieldToJSON,
    MandatesResponse,
    MandatesResponseFromJSON,
    MandatesResponseToJSON,
    NotFoundError,
    NotFoundErrorFromJSON,
    NotFoundErrorToJSON,
} from '../../../packages/EInvoicing/V1';

export interface GetMandateDataInputFieldsRequest {
    avalaraVersion: string;
    mandateId: string;
    documentType: string;
    documentVersion: string;
    xAvalaraClient?: string;
}

export interface GetMandatesRequest {
    avalaraVersion: string;
    xAvalaraClient?: string;
    $filter?: string;
    $top?: number;
    $skip?: number;
    $count?: boolean;
    $countOnly?: boolean;
}

/**
 * 
 */
export class MandatesApi extends runtime.ApiClient {
    public sdkVersion: string = '';

    constructor(apiClient: runtime.ApiClient) {
        super(apiClient.configuration);
    }

    /**
     * This endpoint provides document field details and the optionality of fields (required, conditional, optional) of different documents supported by the country mandate. Use the GET <code>/mandates</code> endpoint to retrieve all available country mandates, their supported document types and supported versions. You can use the `documentType` and `documentVersion` query parameters to retrieve the input fields for a particular document type and document version.
     * Returns document field information for a country mandate, a selected document type, and its version
     */
    async getMandateDataInputFieldsRaw(requestParameters: GetMandateDataInputFieldsRequest, initOverrides?: RequestInit): Promise<{ response: runtime.ApiResponse<Array<MandateDataInputField>>, logObject: LogObject }> {
        if (requestParameters.avalaraVersion === null || requestParameters.avalaraVersion === undefined) {
            throw new runtime.RequiredError('avalaraVersion','Required parameter requestParameters.avalaraVersion was null or undefined when calling getMandateDataInputFields.');
        }

        if (requestParameters.mandateId === null || requestParameters.mandateId === undefined) {
            throw new runtime.RequiredError('mandateId','Required parameter requestParameters.mandateId was null or undefined when calling getMandateDataInputFields.');
        }

        if (requestParameters.documentType === null || requestParameters.documentType === undefined) {
            throw new runtime.RequiredError('documentType','Required parameter requestParameters.documentType was null or undefined when calling getMandateDataInputFields.');
        }

        if (requestParameters.documentVersion === null || requestParameters.documentVersion === undefined) {
            throw new runtime.RequiredError('documentVersion','Required parameter requestParameters.documentVersion was null or undefined when calling getMandateDataInputFields.');
        }

        const queryParameters: any = {};
        const requiredScopes = "";
        const authNames: string[] = ['http'];
        if (requestParameters.documentType !== undefined) {
            queryParameters['documentType'] = requestParameters.documentType;
        }

        if (requestParameters.documentVersion !== undefined) {
            queryParameters['documentVersion'] = requestParameters.documentVersion;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['avalara-version'] = '1.2';

        if (requestParameters.avalaraVersion !== undefined && requestParameters.avalaraVersion !== null) {
            headerParameters['avalara-version'] = String(requestParameters.avalaraVersion);
        }

        if (requestParameters.xAvalaraClient !== undefined && requestParameters.xAvalaraClient !== null) {
            headerParameters['X-Avalara-Client'] = String(requestParameters.xAvalaraClient);
        }

        await this.applyAuthToRequest(headerParameters, authNames, requiredScopes);
        const { response, logObject } = await this.request({
            path: `/einvoicing/mandates/{mandateId}/data-input-fields`.replace(`{${"mandateId"}}`, encodeURIComponent(String(requestParameters.mandateId))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides, requiredScopes);
        logObject.populateResponseInfo(response);
        return { response: new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(MandateDataInputFieldFromJSON)), logObject };
    }

    /**
     * This endpoint provides document field details and the optionality of fields (required, conditional, optional) of different documents supported by the country mandate. Use the GET <code>/mandates</code> endpoint to retrieve all available country mandates, their supported document types and supported versions. You can use the `documentType` and `documentVersion` query parameters to retrieve the input fields for a particular document type and document version.
     * Returns document field information for a country mandate, a selected document type, and its version
     */
    async getMandateDataInputFields(requestParameters: GetMandateDataInputFieldsRequest, initOverrides?: RequestInit): Promise<Array<MandateDataInputField>> {
        const { response, logObject } = await this.getMandateDataInputFieldsRaw(requestParameters, initOverrides);
        const value = await response.value();
        logObject.populateResponseBody(value);
        this.createLogEntry(logObject);
        return value;
    }

    /**
     * This endpoint offers a list of country mandates supported by the Avalara E-Invoicing API.
     * List country mandates that are supported by the Avalara E-Invoicing platform
     */
    async getMandatesRaw(requestParameters: GetMandatesRequest, initOverrides?: RequestInit): Promise<{ response: runtime.ApiResponse<MandatesResponse>, logObject: LogObject }> {
        if (requestParameters.avalaraVersion === null || requestParameters.avalaraVersion === undefined) {
            throw new runtime.RequiredError('avalaraVersion','Required parameter requestParameters.avalaraVersion was null or undefined when calling getMandates.');
        }

        const queryParameters: any = {};
        const requiredScopes = "";
        const authNames: string[] = ['http'];
        if (requestParameters.$filter !== undefined) {
            queryParameters['$filter'] = requestParameters.$filter;
        }

        if (requestParameters.$top !== undefined) {
            queryParameters['$top'] = requestParameters.$top;
        }

        if (requestParameters.$skip !== undefined) {
            queryParameters['$skip'] = requestParameters.$skip;
        }

        if (requestParameters.$count !== undefined) {
            queryParameters['$count'] = requestParameters.$count;
        }

        if (requestParameters.$countOnly !== undefined) {
            queryParameters['$countOnly'] = requestParameters.$countOnly;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['avalara-version'] = '1.2';

        if (requestParameters.avalaraVersion !== undefined && requestParameters.avalaraVersion !== null) {
            headerParameters['avalara-version'] = String(requestParameters.avalaraVersion);
        }

        if (requestParameters.xAvalaraClient !== undefined && requestParameters.xAvalaraClient !== null) {
            headerParameters['X-Avalara-Client'] = String(requestParameters.xAvalaraClient);
        }

        await this.applyAuthToRequest(headerParameters, authNames, requiredScopes);
        const { response, logObject } = await this.request({
            path: `/einvoicing/mandates`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides, requiredScopes);
        logObject.populateResponseInfo(response);
        return { response: new runtime.JSONApiResponse(response, (jsonValue) => MandatesResponseFromJSON(jsonValue)), logObject };
    }

    /**
     * This endpoint offers a list of country mandates supported by the Avalara E-Invoicing API.
     * List country mandates that are supported by the Avalara E-Invoicing platform
     */
    async getMandates(requestParameters: GetMandatesRequest, initOverrides?: RequestInit): Promise<MandatesResponse> {
        const { response, logObject } = await this.getMandatesRaw(requestParameters, initOverrides);
        const value = await response.value();
        logObject.populateResponseBody(value);
        this.createLogEntry(logObject);
        return value;
    }

}
